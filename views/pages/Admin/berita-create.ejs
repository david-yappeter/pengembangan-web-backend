<%- include("../../partials/header") %> <%-
include("../../components/Student/header") %>
<script src="//cdn.ckeditor.com/4.17.1/standard/ckeditor.js"></script>

<div class="container-fluid container-md px-0">
  <%- include("../../components/Global/current-admin", {currentAdmin}) %>
  <div class="card">
    <div class="card-header" style="background-color: #094584; color: white">
      <h4 class="card-title mb-0">Berita Baru</h4>
    </div>
    <div class="card-body py-0">
      <div class="row">
        <form id="_berita-create-form" class="col-12" action="/admin/berita/insert" method="post">
          <!-- <input class="my-3 form-control" name="title" id="title1"  placeholder="Title ..."/>
          <input class="my-3 form-control" name="category" id="category1"  placeholder="Category"/> -->

          <label for="editor1"> Content: </label>
          <textarea name="editor1" id="editor1"></textarea>
          <script>
              // Replace the <textarea id="editor1"> with a CKEditor 4
              // instance, using default configuration.
              CKEDITOR.replace( 'editor1' );
          </script>
          <button type="submit" class="btn btn-success my-2">
            Create
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<%- include("../../partials/form") %>

<script>
  $(document).ready(function () {
    new window.JustValidate("#_berita-create-form", {
      submitHandler: function (form, values, ajax) {
        console.log("submitted");
        ajax({
          url: form.action,
          method: "POST",
          data: values,
          async: true,
          callback: function (response) {
            console.log(response);
            //window.location.replace("/admin/berita");
          },
          error: function (response) {
            alert("AJAX submit error! \nResponse from server:" + response);
          },
        });
      },

      invalidFormCallback: function (errors) {
        console.log(errors);
      },
    });
  });
</script>

<%- include("../../partials/footer") %>
